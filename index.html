<!-- index.html -->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Your Name ‚Ä¢ Portfolio 2025</title>
    <meta name="theme-color" content="#1C2A12" />
    <link rel="stylesheet" href="main.css" />
    <script src="https://unpkg.com/scrolly-video/dist/scrolly-video.min.js"></script>
  </head>
  <body>
    <!-- Header -->
    <header class="site-header">
      <nav class="nav">
        <a href="#hero">Home</a>
        <a href="#about">About</a>
        <a href="#projects">Projects</a>
        <a href="#skills">Skills</a>
        <a href="#contact">Contact</a>
      </nav>
    </header>

    <!-- Background Video -->
    <!-- <div id="video-bg">
      <video
        id="v0"
        muted
        preload="auto"
        webkit-playsinline
        preload="metadata"
        playsinline
      >
        <source src="output.mp4" type="video/mp4" />
      </video>
    </div> -->
    <div id="video-bg">
      <canvas id="v0"></canvas>
    </div>

    <!-- Hero -->
    <section id="hero">
      <div class="content">
        <h1>Hello, I‚Äôm <em>Your Name</em></h1>
        <p>
          Front‚ÄëEnd Developer &amp; UX Enthusiast crafting immersive web
          experiences.
        </p>
        <a href="#projects" class="btn">View My Work</a>
      </div>
    </section>

    <!-- About -->
    <section id="about">
      <div class="content">
        <h1>About Me</h1>
        <p>
          I‚Äôm a self‚Äëtaught developer who loves blending creativity with code.
          When I‚Äôm not building websites, I‚Äôm exploring nature trails or
          experimenting with new design tools.
        </p>
        <ul>
          <li>üìç Based in Your City</li>
          <li>üéì B.Sc. in Computer Science</li>
          <li>üíº 3+ years freelancing globally</li>
        </ul>
      </div>
    </section>

    <!-- Projects -->
    <section id="projects">
      <div class="content">
        <h1>Selected Projects</h1>
        <ul>
          <li>
            <a href="https://project1.example.com" target="_blank"
              >Project One</a
            >
            ‚Äî A responsive portfolio with smooth scroll animations.
          </li>
          <li>
            <a href="https://project2.example.com" target="_blank"
              >Project Two</a
            >
            ‚Äî Interactive data viz dashboard built in D3.js.
          </li>
          <li>
            <a href="https://project3.example.com" target="_blank"
              >Project Three</a
            >
            ‚Äî E‚Äëcommerce prototype with custom UI components.
          </li>
        </ul>
      </div>
    </section>

    <!-- Skills -->
    <section id="skills">
      <div class="content">
        <h1>Skills &amp; Tools</h1>
        <ul>
          <li>HTML5, CSS3 (Flexbox, Grid, Animations)</li>
          <li>JavaScript (ES6+, React, D3)</li>
          <li>Version Control: Git &amp; GitHub</li>
          <li>Design: Figma, Sketch, Adobe XD</li>
        </ul>
      </div>
    </section>

    <!-- Contact -->
    <section id="contact">
      <div class="content">
        <h1>Let‚Äôs Connect</h1>
        <p>Have a project in mind or just want to say hi? I‚Äôm all ears.</p>
        <p>Email: <a href="mailto:you@example.com">you@example.com</a></p>
        <a
          href="https://linkedin.com/in/yourprofile"
          class="btn"
          target="_blank"
          >LinkedIn</a
        >
      </div>
    </section>
    <!-- Scroll-height spacer for video scrub -->
    <div id="set-height"></div>

    <!-- <script src="sticky.js"></script>
    <script>
      enterView({
        selector: "section",
        enter: el => el.querySelector(".content").classList.add("entered"),
      });

      const playbackConst = 800;
      const setHeight = document.getElementById("set-height");
      const vid = document.getElementById("v0");

      vid.addEventListener("loadedmetadata", () => {
        setHeight.style.height =
          Math.floor(vid.duration) * playbackConst + "px";
      });

      function scrollPlay() {
        vid.currentTime = window.pageYOffset / playbackConst;
        requestAnimationFrame(scrollPlay);
      }
      requestAnimationFrame(scrollPlay);
      // grab references
      const header = document.querySelector(".site-header");
      const hero = document.getElementById("hero");

      if (header && hero) {
        const headerHeight = header.offsetHeight;
        const heroHeight = hero.offsetHeight;

        window.addEventListener("scroll", () => {
          // if we've scrolled past heroHeight - headerHeight, show the header
          if (window.scrollY > heroHeight - headerHeight) {
            header.classList.add("visible");
          } else {
            header.classList.remove("visible");
          }
        });

        // also fire once on load in case refresh mid‚Äëpage
        if (window.scrollY > heroHeight - headerHeight) {
          header.classList.add("visible");
        }
      }
      // scroll scrubbing
      function scrollPlay() {
        vid.currentTime = window.pageYOffset / playbackConst;
        requestAnimationFrame(scrollPlay);
      }
      requestAnimationFrame(scrollPlay);
    </script> -->
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const canvas = document.getElementById("v0");
        const context = canvas.getContext("2d");

        const video = document.createElement("video");
        video.src = "./output.mp4"; // Make sure it's in the correct folder
        video.muted = true;
        video.playsInline = true;
        video.crossOrigin = "anonymous"; // Optional, but good practice

        let duration = 0;
        let scrollTarget = 0;
        let delay = 0;
        let isReady = false;

        // Resize canvas to viewport size
        function resizeCanvas() {
          canvas.width = window.innerWidth;
          canvas.height = window.innerHeight;
        }

        resizeCanvas();
        window.addEventListener("resize", resizeCanvas);

        // Get duration and start render loop once ready
        video.addEventListener("loadedmetadata", () => {
          duration = video.duration;
          isReady = true;
          render();
        });

        // Calculate scroll-based target time
        window.addEventListener("scroll", () => {
          if (!isReady) return;
          const scrollTop =
            window.pageYOffset || document.documentElement.scrollTop;
          const maxScroll =
            document.documentElement.scrollHeight - window.innerHeight;
          const scrollFraction = scrollTop / maxScroll;
          scrollTarget = scrollFraction * duration;
        });

        // Smooth render loop with interpolation
        function render() {
          if (!isReady) return;

          // Ease into the target scroll time
          delay += (scrollTarget - delay) * 0.1;
          video.currentTime = delay;

          // Draw the frame once it's seeked
          video.addEventListener(
            "seeked",
            () => {
              context.drawImage(video, 0, 0, canvas.width, canvas.height);
            },
            { once: true }
          );

          requestAnimationFrame(render);
        }
      });
    </script>
  </body>
</html>
